{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aysha\\\\Desktop\\\\Aysha\\\\SJSU\\\\Fall 2019\\\\CMPE 295A\\\\project\\\\frontend\\\\src\\\\components\\\\Authentication\\\\SignIn.js\";\nimport React, { Component } from \"react\";\nimport { connect } from \"react-redux\";\nimport '../../App.css';\nimport Button from '@material-ui/core/Button';\nimport { signupForm } from \"../../styles/signupForm\";\nimport { signincontainer } from \"../../styles/container\";\nimport * as authLeft from \"../../styles/authLeft\";\nimport * as inputField from \"../../styles/inputField\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport { button } from \"../../styles/button\";\nimport * as errorStyles from \"../../styles/error\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport LiveIcon from '@material-ui/icons/Videocam';\nimport HistoryIcon from '@material-ui/icons/MissedVideoCall';\nimport SummaryIcon from '@material-ui/icons/ArtTrack';\nimport AnalyticsIcon from '@material-ui/icons/BarChart';\nimport axios from 'axios';\nimport backendURL from '../../backendUrl';\n/* //Firebase + Google Signin\r\nimport withFirebaseAuth from 'react-with-firebase-auth';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/auth'; \r\n\r\nimport firebaseApp from './FirebaseApp';\r\n\r\n\r\nconst firebaseAppAuth = firebaseApp.auth();\r\nconst providers = {\r\n  googleProvider: new firebase.auth.GoogleAuthProvider(),\r\n};\r\n*/\n\nclass SignIn extends Component {\n  constructor(props) {\n    super(props);\n\n    this.signin = e => {\n      e.preventDefault();\n      const data = {\n        \"email\": e.target[0].value,\n        \"password\": e.target[1].value\n      };\n      axios.post(backendURL + '/signin', data).then(response => {\n        console.log(response.data.message);\n\n        if (response.data.message === \"match\") {\n          sessionStorage.setItem(\"user\", data.email);\n          this.setState({\n            redirectVar: React.createElement(Redirect, {\n              to: \"/live-surveillance\",\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 62\n              },\n              __self: this\n            })\n          });\n        } else if (response.data.message === \"no-match\") this.setState({\n          message: \"Incorrect password. Please try again.\"\n        });else if (response.data.message === \"no-user\") this.setState({\n          message: \"Account with this email does not exist. Please try again.\"\n        });else console.log(\"Error\");\n      });\n    };\n\n    this.signin = this.signin.bind(this);\n    this.state = {\n      redirectVar: null,\n      message: null\n    };\n  }\n\n  displayIcon(index) {\n    switch (index) {\n      case 0:\n        return React.createElement(LiveIcon, {\n          style: authLeft.icon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        });\n\n      case 1:\n        return React.createElement(HistoryIcon, {\n          style: authLeft.icon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        });\n\n      case 2:\n        return React.createElement(SummaryIcon, {\n          style: authLeft.icon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        });\n      //  case 3 : return <AnalyticsIcon style = {authLeft.icon} />;\n    }\n  }\n\n  render() {\n    const _this$props = this.props,\n          user = _this$props.user,\n          signInWithGoogle = _this$props.signInWithGoogle;\n\n    if (user) {\n      sessionStorage.setItem(\"user\", user);\n      this.setState({\n        redirectVar: React.createElement(Redirect, {\n          to: \"/live-surveillance\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95\n          },\n          __self: this\n        })\n      });\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    }, React.createElement(\"table\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"tr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: authLeft.container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: authLeft.logo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Real Time Video Analytics\"), React.createElement(\"div\", {\n      style: authLeft.logo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"for Threat Detection\")), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      style: authLeft.intro,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Displays live surveillance, past \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), \"  surveillance videos and summary of \", React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }), \" detected threats\"), React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117\n      },\n      __self: this\n    }, ['View Live Surveillance Feed', 'View Surveillance History', 'View Detected Threat Details'\n    /*, 'View Threat Analytics Based on Time, Location and Severity'*/\n    ].map((text, index) => React.createElement(ListItem, {\n      style: authLeft.item,\n      key: text,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(ListItemIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, this.displayIcon(index)), text, \"\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\\xA0\")))))), React.createElement(\"td\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: signincontainer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 133\n      },\n      __self: this\n    }, this.state.redirectVar, React.createElement(\"form\", {\n      style: signupForm,\n      onSubmit: this.signin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      style: {\n        color: \"rgb(0, 56, 83)\",\n        marginBottom: \"30px\",\n        fontSize: \"23px\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(\"input\", {\n      //style={inputField}\n      placeholder: \"Email\",\n      name: \"email\",\n      style: inputField.longInput,\n      type: \"text\",\n      onChange: () => this.setState({\n        message: null\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      //style={inputField}\n      placeholder: \"Password\",\n      name: \"password\",\n      style: inputField.longInput,\n      type: \"password\",\n      onChange: () => this.setState({\n        message: null\n      }),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }), React.createElement(Button, {\n      style: button,\n      type: \"submit\",\n      fullWidth: true\n      /* color=\"primary\" */\n      ,\n      variant: \"contained\"\n      /*onClick={ () => {axios.post('http://localhost:3001/signin', {data : 'data'})}/*()=> {this.setState({redirectVar : <Redirect to=\"/live-surveillance\"/>})}}*/\n      ,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Sign In\"), React.createElement(\"p\", {\n      style: errorStyles,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, this.state.message), React.createElement(Link, {\n      to: '/',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Forgot Password?\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }), \"Don't have an account? \", React.createElement(Link, {\n      to: '/signup',\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, \"Create one now\")))))));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    authFlag: state.signinReducer.authFlag,\n    username: state.signinReducer.username,\n    password: state.signinReducer.password\n  };\n};\n\nconst mapDispatchStateToProps = dispatch => {\n  return {\n    signin: values => {\n      dispatch({\n        type: \"signin\",\n        payload: values\n      });\n    }\n  };\n};\n\nexport default\n/* withFirebaseAuth({\r\nproviders,\r\nfirebaseAppAuth,\r\n}) */\nconnect(mapStateToProps, mapDispatchStateToProps)(SignIn);","map":{"version":3,"sources":["C:/Users/Aysha/Desktop/Aysha/SJSU/Fall 2019/CMPE 295A/project/frontend/src/components/Authentication/SignIn.js"],"names":["React","Component","connect","Button","signupForm","signincontainer","authLeft","inputField","List","ListItem","ListItemIcon","button","errorStyles","Link","Redirect","LiveIcon","HistoryIcon","SummaryIcon","AnalyticsIcon","axios","backendURL","SignIn","constructor","props","signin","e","preventDefault","data","target","value","post","then","response","console","log","message","sessionStorage","setItem","email","setState","redirectVar","bind","state","displayIcon","index","icon","render","user","signInWithGoogle","container","logo","intro","map","text","item","color","marginBottom","fontSize","longInput","mapStateToProps","authFlag","signinReducer","username","password","mapDispatchStateToProps","dispatch","values","type","payload"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport '../../App.css';\r\n\r\nimport Button from '@material-ui/core/Button'\r\nimport {signupForm} from \"../../styles/signupForm\";\r\nimport {signincontainer} from \"../../styles/container\";\r\nimport * as authLeft from \"../../styles/authLeft\";\r\nimport * as inputField from  \"../../styles/inputField\";\r\n\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\n\r\nimport {button} from \"../../styles/button\";\r\nimport * as errorStyles from \"../../styles/error\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport LiveIcon from '@material-ui/icons/Videocam';\r\nimport HistoryIcon from '@material-ui/icons/MissedVideoCall';\r\nimport SummaryIcon from '@material-ui/icons/ArtTrack';\r\nimport AnalyticsIcon from '@material-ui/icons/BarChart';\r\nimport axios from 'axios';\r\nimport backendURL from '../../backendUrl';\r\n/* //Firebase + Google Signin\r\nimport withFirebaseAuth from 'react-with-firebase-auth';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/auth'; \r\n\r\nimport firebaseApp from './FirebaseApp';\r\n\r\n\r\nconst firebaseAppAuth = firebaseApp.auth();\r\nconst providers = {\r\n  googleProvider: new firebase.auth.GoogleAuthProvider(),\r\n};\r\n*/\r\n\r\nclass SignIn extends Component {\r\n\r\n    constructor(props){\r\n      super(props);       \r\n      this.signin = this.signin.bind(this);\r\n      this.state ={\r\n          redirectVar :null,\r\n          message : null\r\n      }\r\n    }\r\n \r\n    signin = (e) => {\r\n        e.preventDefault();\r\n        \r\n        const data = {\r\n            \"email\" : e.target[0].value,\r\n            \"password\" : e.target[1].value\r\n        }\r\n\r\n         axios.post(backendURL + '/signin', data).then(response =>{\r\n             console.log(response.data.message);\r\n             if(response.data.message === \"match\")\r\n             {\r\n                sessionStorage.setItem(\"user\", data.email);\r\n                this.setState({redirectVar : <Redirect to=\"/live-surveillance\"/>});\r\n                \r\n             }\r\n             else if(response.data.message === \"no-match\")\r\n                this.setState({message : \"Incorrect password. Please try again.\"})\r\n             else if(response.data.message === \"no-user\")\r\n                this.setState({message : \"Account with this email does not exist. Please try again.\"})\r\n             else\r\n                console.log(\"Error\");\r\n         })\r\n    }\r\n\r\n   \r\n displayIcon(index)  {\r\n    switch(index)\r\n    {\r\n        case 0 : return <LiveIcon style={authLeft.icon}/> ; \r\n        case 1 : return <HistoryIcon style={authLeft.icon}/>;\r\n        case 2 : return <SummaryIcon style={authLeft.icon} />;\r\n      //  case 3 : return <AnalyticsIcon style = {authLeft.icon} />;\r\n    }\r\n}\r\n\r\n    render() {\r\n        const {\r\n            user,\r\n            signInWithGoogle,\r\n            \r\n          } = this.props; \r\n    \r\n       if(user)\r\n          {\r\n             sessionStorage.setItem(\"user\", user);\r\n             this.setState({redirectVar : <Redirect to=\"/live-surveillance\"/>});\r\n            \r\n          }\r\n      \r\n        return (\r\n             \r\n             <div >      \r\n                   <table>\r\n                       <tr>\r\n                           <td>         \r\n                               <div style={authLeft.container}>\r\n                                   <div>\r\n                                     <div style={authLeft.logo}>Real Time Video Analytics</div>\r\n                                     <div style={authLeft.logo}>for Threat Detection</div> \r\n                                   </div>\r\n                                   <div>\r\n                              <p style={authLeft.intro}>Displays live surveillance, past <br></br>  surveillance videos and summary of <br></br> detected threats</p>\r\n                             {/*  <div> <ListItemIcon>{this.displayIcon(0)}</ListItemIcon> Live Surveillance</div>\r\n                              <p style={authLeft.intro}>Surveillance History</p>\r\n                               <p style={authLeft.intro}>Threat Summary</p>\r\n                              <p style={authLeft.intro}>Threat Analytics</p> \r\n          */}\r\n                     <List>\r\n               {['View Live Surveillance Feed', 'View Surveillance History', 'View Detected Threat Details'/*, 'View Threat Analytics Based on Time, Location and Severity'*/ ].map((text, index) => (\r\n                 <ListItem style={authLeft.item}  key={text} >\r\n                   <ListItemIcon>{this.displayIcon(index)}</ListItemIcon>\r\n                   {text}\r\n                   &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \r\n                   \r\n                 </ListItem>\r\n                 \r\n               ))}\r\n           \r\n              </List> \r\n                                 </div>\r\n                  </div>\r\n                           </td>\r\n                           <td>\r\n             <div style={signincontainer} >\r\n                 {this.state.redirectVar}\r\n                  <form  style={signupForm}onSubmit={this.signin}>\r\n                         <h2 style={{color: \"rgb(0, 56, 83)\", marginBottom : \"30px\", fontSize: \"23px\"}}>Sign In</h2>\r\n                       \r\n                                 <input\r\n                                     //style={inputField}\r\n                                     placeholder=\"Email\"\r\n                                     name=\"email\"\r\n                                     style={inputField.longInput}\r\n                                     type = \"text\"  \r\n                                     onChange = {() => this.setState({message : null})}\r\n                                 />\r\n                               \r\n                                 <input\r\n                                      //style={inputField}\r\n                                     placeholder=\"Password\"\r\n                                    name=\"password\"\r\n                                     style={inputField.longInput}\r\n                                     type = \"password\"\r\n                                     onChange = {() => this.setState({message : null})}\r\n                                 />\r\n                                \r\n                                <Button  style={button} type=\"submit\" fullWidth /* color=\"primary\" */ variant=\"contained\" /*onClick={ () => {axios.post('http://localhost:3001/signin', {data : 'data'})}/*()=> {this.setState({redirectVar : <Redirect to=\"/live-surveillance\"/>})}}*/>Sign In</Button>\r\n                                <p style={errorStyles}>{this.state.message}</p>\r\n                             \r\n                                <Link to={'/'} >Forgot Password?</Link><br></br>\r\n                                Don't have an account? <Link to={'/signup'} >Create one now</Link>\r\n                            </form>\r\n                           \r\n                                 {/* <Button onClick={signInWithGoogle}>Sign in with Google</Button>  */}\r\n\r\n   </div>\r\n                        </td>\r\n                        </tr>\r\n                        </table>\r\n</div> \r\n\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = state =>{\r\n   \r\n    return {\r\n        authFlag : state.signinReducer.authFlag,\r\n        username : state.signinReducer.username,\r\n        password : state.signinReducer.password  \r\n     }\r\n}\r\n\r\nconst mapDispatchStateToProps = dispatch => {\r\n    return {\r\n        signin : (values) => {\r\n                    dispatch({type: \"signin\",payload : values})\r\n            \r\n        }\r\n    }\r\n}\r\nexport default /* withFirebaseAuth({\r\n    providers,\r\n    firebaseAppAuth,\r\n  }) */(connect(mapStateToProps,mapDispatchStateToProps)(SignIn));  \r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}