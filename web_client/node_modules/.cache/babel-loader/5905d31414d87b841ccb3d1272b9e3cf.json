{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Aysha\\\\Desktop\\\\Aysha\\\\SJSU\\\\Fall 2019\\\\CMPE 295A\\\\project\\\\frontend\\\\src\\\\components\\\\Authentication\\\\SignIn.js\";\nimport React, { Component } from \"react\";\nimport { Field, reduxForm } from \"redux-form\";\nimport { connect } from \"react-redux\";\nimport '../../App.css'; //import axios from 'axios';\n//import {Redirect} from 'react-router';\n\nimport Button from '@material-ui/core/Button';\nimport { signupForm } from \"../../styles/signupForm\";\nimport { signincontainer } from \"../../styles/container\";\nimport * as authLeft from \"../../styles/authLeft\";\nimport * as inputField from \"../../styles/inputField\";\nimport { logo } from \"../../styles/logo\";\nimport { background } from \"../../styles/drawer\";\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport * as drawerStyles from \"../../styles/drawer\";\nimport { button } from \"../../styles/button\";\nimport { Link, Redirect } from \"react-router-dom\";\nimport LiveIcon from '@material-ui/icons/Videocam';\nimport HistoryIcon from '@material-ui/icons/MissedVideoCall';\nimport SummaryIcon from '@material-ui/icons/ArtTrack';\nimport AnalyticsIcon from '@material-ui/icons/BarChart';\nimport axios from 'axios';\nimport withFirebaseAuth from 'react-with-firebase-auth';\nimport * as firebase from 'firebase/app';\nimport 'firebase/auth';\nimport firebaseConfig from '../../firebaseConfig';\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\nconst firebaseAppAuth = firebaseApp.auth();\nconst providers = {\n  googleProvider: new firebase.auth.GoogleAuthProvider()\n};\n\nclass SignIn extends Component {\n  constructor(props) {\n    super(props); //  this.onSubmit = this.onSubmit.bind(this);\n\n    this.signin = e => {\n      e.preventDefault();\n      const data = {\n        \"email\": e.target[0].value,\n        \"password\": e.target[1].value\n      };\n      axios.post('http://localhost:3001/signin', data).then(response => {\n        console.log(response);\n        if (response.data.success) this.setState({\n          redirectVar: React.createElement(Redirect, {\n            to: \"/live-surveillance\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 61\n            },\n            __self: this\n          })\n        });else console.log(\"error or incorrect email / password\");\n      });\n    };\n\n    this.redirect = e => {\n      e.preventDefault();\n      this.setState({\n        redirectVar: React.createElement(Redirect, {\n          to: \"/live-surveillance\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 69\n          },\n          __self: this\n        })\n      });\n    };\n\n    this.signin = this.signin.bind(this);\n    this.redirect = this.redirect.bind(this);\n    this.state = {\n      redirectVar: null\n    };\n  }\n\n  displayIcon(index) {\n    switch (index) {\n      case 0:\n        return React.createElement(LiveIcon, {\n          style: authLeft.icon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        });\n\n      case 1:\n        return React.createElement(HistoryIcon, {\n          style: authLeft.icon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 78\n          },\n          __self: this\n        });\n\n      case 2:\n        return React.createElement(SummaryIcon, {\n          style: authLeft.icon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 79\n          },\n          __self: this\n        });\n\n      case 3:\n        return React.createElement(AnalyticsIcon, {\n          style: authLeft.icon,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 80\n          },\n          __self: this\n        });\n    }\n  }\n\n  render() {\n    const _this$props = this.props,\n          user = _this$props.user,\n          signOut = _this$props.signOut,\n          signInWithGoogle = _this$props.signInWithGoogle;\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, React.createElement(\"header\", {\n      className: \"App-header\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: logo,\n      className: \"App-logo\",\n      alt: \"logo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }), user ? React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }, \"Hello, \", user.displayName) : React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, \"Please sign in.\"), user ? React.createElement(\"button\", {\n      onClick: signOut,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, \"Sign out\") : React.createElement(\"button\", {\n      onClick: signInWithGoogle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, \"Sign in with Google\")));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    authFlag: state.signinReducer.authFlag,\n    username: state.signinReducer.username,\n    password: state.signinReducer.password //  login_status : state.reducer.login_status,\n    // type : state.reducer.type  \n\n  };\n};\n\nconst mapDispatchStateToProps = dispatch => {\n  return {\n    signin: values => {\n      dispatch({\n        type: \"signin\",\n        payload: values\n      });\n    }\n  };\n};\n\nexport default withFirebaseAuth({\n  providers,\n  firebaseAppAuth\n})(connect(mapStateToProps, mapDispatchStateToProps)(SignIn));\n/*export default reduxForm({\r\n // validate,\r\n  form: \"SigninForm\",\r\n  reducer: \"signinReducer\"\r\n})(connect(mapStateToProps,mapDispatchStateToProps)(SignIn));  \r\n*/","map":{"version":3,"sources":["C:/Users/Aysha/Desktop/Aysha/SJSU/Fall 2019/CMPE 295A/project/frontend/src/components/Authentication/SignIn.js"],"names":["React","Component","Field","reduxForm","connect","Button","signupForm","signincontainer","authLeft","inputField","logo","background","List","ListItem","ListItemIcon","drawerStyles","button","Link","Redirect","LiveIcon","HistoryIcon","SummaryIcon","AnalyticsIcon","axios","withFirebaseAuth","firebase","firebaseConfig","firebaseApp","initializeApp","firebaseAppAuth","auth","providers","googleProvider","GoogleAuthProvider","SignIn","constructor","props","signin","e","preventDefault","data","target","value","post","then","response","console","log","success","setState","redirectVar","redirect","bind","state","displayIcon","index","icon","render","user","signOut","signInWithGoogle","displayName","mapStateToProps","authFlag","signinReducer","username","password","mapDispatchStateToProps","dispatch","values","type","payload"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport { connect } from \"react-redux\";\r\nimport '../../App.css';\r\n//import axios from 'axios';\r\n//import {Redirect} from 'react-router';\r\nimport Button from '@material-ui/core/Button'\r\nimport {signupForm} from \"../../styles/signupForm\";\r\nimport {signincontainer} from \"../../styles/container\";\r\nimport * as authLeft from \"../../styles/authLeft\";\r\nimport * as inputField from  \"../../styles/inputField\";\r\nimport {logo} from \"../../styles/logo\";\r\nimport {background} from \"../../styles/drawer\";\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport * as drawerStyles from \"../../styles/drawer\";\r\n\r\nimport {button} from \"../../styles/button\";\r\nimport { Link, Redirect } from \"react-router-dom\";\r\nimport LiveIcon from '@material-ui/icons/Videocam';\r\nimport HistoryIcon from '@material-ui/icons/MissedVideoCall';\r\nimport SummaryIcon from '@material-ui/icons/ArtTrack';\r\nimport AnalyticsIcon from '@material-ui/icons/BarChart';\r\nimport axios from 'axios';\r\n \r\nimport withFirebaseAuth from 'react-with-firebase-auth';\r\nimport * as firebase from 'firebase/app';\r\nimport 'firebase/auth'; \r\nimport firebaseConfig from '../../firebaseConfig';\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig);\r\nconst firebaseAppAuth = firebaseApp.auth();\r\nconst providers = {\r\n  googleProvider: new firebase.auth.GoogleAuthProvider(),\r\n};\r\n\r\n\r\nclass SignIn extends Component {\r\n\r\n    constructor(props){\r\n        super(props);       \r\n      //  this.onSubmit = this.onSubmit.bind(this);\r\n      this.signin = this.signin.bind(this);\r\n      this.redirect = this.redirect.bind(this);\r\n\r\n      this.state ={\r\n          redirectVar :null\r\n      }\r\n    }\r\n \r\n    signin = (e) => {\r\n        e.preventDefault();\r\n        const data = {\r\n            \"email\" : e.target[0].value,\r\n            \"password\" : e.target[1].value\r\n        }\r\n\r\n         axios.post('http://localhost:3001/signin', data).then(response =>{\r\n             console.log(response);\r\n             if(response.data.success)\r\n                this.setState({redirectVar : <Redirect to=\"/live-surveillance\"/>});\r\n             else\r\n                console.log(\"error or incorrect email / password\");\r\n         })\r\n    }\r\n\r\n    redirect = (e) => {\r\n        e.preventDefault();\r\n        this.setState({redirectVar : <Redirect to=\"/live-surveillance\"/>});\r\n             \r\n    }\r\n  \r\n   \r\n displayIcon(index)  {\r\n    switch(index)\r\n    {\r\n        case 0 : return <LiveIcon style={authLeft.icon}/> ; \r\n        case 1 : return <HistoryIcon style={authLeft.icon}/>;\r\n        case 2 : return <SummaryIcon style={authLeft.icon} />;\r\n        case 3 : return <AnalyticsIcon style = {authLeft.icon} />;\r\n    }\r\n}\r\n\r\n    render() {\r\n        const {\r\n            user,\r\n            signOut,\r\n            signInWithGoogle,\r\n          } = this.props; \r\n        return (\r\n             \r\n            <div className=\"App\">\r\n            <header className=\"App-header\">\r\n              <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n              {\r\n                user \r\n                  ? <p>Hello, {user.displayName}</p>\r\n                  : <p>Please sign in.</p>\r\n              }\r\n              {\r\n                user\r\n                  ? <button onClick={signOut}>Sign out</button>\r\n                  : <button onClick={signInWithGoogle}>Sign in with Google</button>\r\n              }\r\n            </header>\r\n          </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nconst mapStateToProps = state =>{\r\n   \r\n    return {\r\n        authFlag : state.signinReducer.authFlag,\r\n        username : state.signinReducer.username,\r\n        password : state.signinReducer.password\r\n      //  login_status : state.reducer.login_status,\r\n       // type : state.reducer.type  \r\n     }\r\n}\r\n\r\nconst mapDispatchStateToProps = dispatch => {\r\n    return {\r\n        signin : (values) => {\r\n                    dispatch({type: \"signin\",payload : values})\r\n            \r\n        }\r\n    }\r\n}\r\nexport default withFirebaseAuth({\r\n    providers,\r\n    firebaseAppAuth,\r\n  })(connect(mapStateToProps,mapDispatchStateToProps)(SignIn));  \r\n\r\n\r\n\r\n  /*export default reduxForm({\r\n   // validate,\r\n    form: \"SigninForm\",\r\n    reducer: \"signinReducer\"\r\n})(connect(mapStateToProps,mapDispatchStateToProps)(SignIn));  \r\n*/"]},"metadata":{},"sourceType":"module"}